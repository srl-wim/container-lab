name: ctd # Cumulus Linux Test Drive

topology:
  nodes:
    leaf01:
      kind: cvx
      image: networkop/cx:4.3.0

    leaf02:
      kind: cvx
      image: networkop/cx:4.3.0

    spine01:
      kind: cvx
      image: networkop/cx:4.3.0

    server01:
      kind: linux
      image: networkop/host:ignite
      kernel: networkop/ignite-kernel:5.4.108-amd64
      binds:
        - server01/interfaces:/etc/network/interfaces

    server02:
      kind: linux
      image: networkop/host:ignite
      kernel: networkop/ignite-kernel:5.4.108-amd64
      binds:
        - server02/interfaces:/etc/network/interfaces


  links:
    - endpoints: ["leaf01:swp1", "server01:eth1"]
    - endpoints: ["leaf01:swp2", "server02:eth1"]
    - endpoints: ["leaf02:swp1", "server01:eth2"]
    - endpoints: ["leaf02:swp2", "server02:eth2"]

    - endpoints: ["leaf01:swp49", "leaf02:swp49"]
    - endpoints: ["leaf01:swp50", "leaf02:swp50"]

    - endpoints: ["spine01:swp1", "leaf01:swp51"]
    - endpoints: ["spine01:swp2", "leaf02:swp51"]